# Quest 3.10 — BasicAtoi2

## Название файла Go
`basicatoi2.go`

---

## Условия задания

| **Instruction** | **Перевод** |
|-----------------|-------------|
| *Write a function that simulates the behaviour of the Atoi function in Go.* | *Напишите функцию, которая имитирует работу Atoi:* преобразует строку в число (`int`). |
| *Atoi returns 0 if the string is not considered as a valid number. Non-valid strings will be tested.* | *Если строка содержит НЕ цифры — функция должна вернуть `0`.* |
| *Handling of signs + or - does not have to be taken into account.* | *Знаки `+` и `-` можно игнорировать (не нужно поддерживать).* |

---

Нужно написать функцию, которая:

- получает строку,
- проверяет: **состоит ли она только из цифр**,  
- если да — превращает её в число,
- если нет — возвращает `0`.

### Пример использования

```go
package main

import (
	"fmt"
	"piscine"
)

func main() {
	fmt.Println(piscine.BasicAtoi2("12345"))            // 12345
	fmt.Println(piscine.BasicAtoi2("0000000012345"))    // 12345
	fmt.Println(piscine.BasicAtoi2("012 345"))          // 0   (пробел -> невалидно)
	fmt.Println(piscine.BasicAtoi2("Hello World!"))     // 0
}
```

---

## Решение

```go
package piscine

func BasicAtoi2(s string) int {
	result := 0

	for _, ch := range s {
		// Если хотя бы один символ НЕ цифра, строка невалидна 
		if ch < '0' || ch > '9' {
			return 0
		}

		// Преобразуем символ в цифру
		digit := int(ch - '0')
		result = result*10 + digit
	}

	return result
}
```

---

## Ключевые понятия

| **Инструмент / элемент кода** | **Объяснение и назначение** |
|-------------------------------|------------------------------|
| **Механизм преобразования символа в число** | `digit := int(ch - '0')` — вычитание `'0'` конвертирует ASCII-код цифры в её числовое значение. |
| **Формирование числа вручную** | Число собирается через `result = result*10 + digit`. |

---

## Теория

### 1. Проверка строки на валидность

В отличие от **BasicAtoi**, здесь строка **может содержать любые символы**:

- `"12a3"`  
- `"012 345"`
- `"—123"`   
- `"12345"` - только такой формат валиден 

Поэтому код обязан проверять каждый символ.

### 2. Почему `'0'..'9'` работает?

ASCII-коды:

| Символ | Код |
|--------|-----|
| `'0'` | 48 |
| `'1'` | 49 |
| `'2'` | 50 |
| `'9'` | 57 |

Поэтому:

```
'7' - '0' = 55 - 48 = 7
```

### 3. Как строится число

Строка `"987"` превращается в число так:

- result = 0  
- берём `'9'`: → `9` → result = 0*10 + 9 = 9  
- берём `'8'`: → `8` → result = 9*10 + 8 = 98  
- берём `'7'`: → `7` → result = 98*10 + 7 = 987  

---

## Логика и пошаговый разбор кода

### 1. Объявляем переменную для результата и открываем цикл чтобы пройти по каждому символу строки

```go
package piscine

func BasicAtoi2(s string) int {
    result := 0
    for _, ch := range s {
```
`s` здесь как рун.

---
### 2. Проверяем символ на валидность

```go
        if ch < '0' || ch > '9' {
	        return 0
        }
```

Как только найден **один** нецифровой символ строка полностью считается невалидной. 
Важно прописать условие именно внутри цикла, чтобы оно было проверено для каждого элемента.

---

### 3. Преобразуем символ в цифру

```go
        digit := int(ch - '0')
```
---
### 4. Формируем итоговое число
```go
        result = result*10 + digit
    } //конечная операция цикла здесь
```
---
### 5. Возвращаем результат

```go
    return result
```
---

## Заключение

В этом задании вы научились проверять валидность ввода (input) и обрабатывать ошибки.
Следующее упражнение **Atoi** логически продолжает тему, подключая поддержку знаков `+` и `-`.
