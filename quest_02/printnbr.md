# Quest 2. PrintNbr

## Название файла Go
`printnbr.go`

---

## Условия задания 

| **Instruction** | **Перевод** |
|---------------------------|--------------|
| *Write a function that prints an int passed in parameter. All possible values of type int have to go through. You cannot convert to a string. * | *Напишите функцию, которая выводит целое число (int), переданное в параметре. Должны обрабатываться все возможные значения типа int. Вы не можете преобразовывать число в строку (string).* |

---

## Разбор задания: PrintNbr

* Функция: func PrintNbr(n int)
* Тип данных: Должен обрабатываться полный диапазон типа int (в Go это обычно 32-битное или 64-битное целое число, включая отрицательные значения).
* Ограничение: Запрещено использовать преобразование числа в строку (например, strconv.Itoa или явное приведение string(n)).
* Инструмент: Для печати, как и в других заданиях Piscine, используется функция z01.PrintRune.
* Пример вывода:
    * -123
    * 123
    * 0
    * 1230123

---

## Решение

```go
package piscine


const minInt = -9223372036854775808 
func PrintNbr(n int) {
    if n < 0 {
        z01.PrintRune('-')

        if n == minInt {
            PrintNbr(n/10) 
            z01.PrintRune(rune( -(n % 10) + '0')) 
            return
        }
        
        n = -n 
    }

    if n >= 10 {

        PrintNbr(n / 10)
    }

    z01.PrintRune(rune(n%10 + '0'))
}

```

## Разбор логики решения

Поскольку прямое преобразование в строку запрещено, числа выводятся путём рекурсивного или итеративного деления на 10, чтобы извлекать каждую цифру отдельно, начиная с самой старшей.

 * Основные шаги:
    1. Обработка отрицательных чисел: Если число n отрицательное, нужно сначала напечатать знак минус (-), а затем работать с его положительной версией.
    2. Обработка нуля: Если n=0, сразу печатаем '0'.
    3. Извлечение цифр: Используем цикл или рекурсию:
        * Деление на 10 (n / 10) позволяет перейти к следующей цифре (справа налево).
        * Остаток от деления (n % 10) даёт последнюю цифру, которую нужно напечатать.
    4. Сложность диапазона int: В Go (и C) есть проблема с минимальным отрицательным числом (например, −263). Его положительный эквивалент (+263) не помещается в стандартный int64. Это требует специальной обработки для минимального int.
---

## Ключевые понятия

| **Инструмент / элемент кода** | **Объяснение и назначение** |
|-------------------------------|------------------------------|
| **func PrintNbr(n int)** | Объявление функции. Ключевое слово func. Функция принимает параметр n типа int, который является числом для вывода. |
| **if n < 0** | Проверка знака. Проверяет, является ли число отрицательным. Если да, печатает символ минуса (-) первым. |
| **if n == minInt** | Особая обработка MinInt. Ветвь, необходимая для предотвращения переполнения, поскольку минимальное отрицательное int не имеет положительного эквивалента. Требует раздельной обработки последней цифры. |
| **n = -n** | Инверсия знака. Делает число положительным, что позволяет унифицировать алгоритм печати цифр для всех чисел (кроме MinInt). |
| **if n >= 10** | Условие рекурсии. Проверяет, что число состоит из нескольких разрядов, и если это так, запускает рекурсивный вызов. |
| **PrintNbr(n / 10)** | Рекурсивный вызов. Деление на 10 (n / 10) отбрасывает последнюю цифру. Рекурсия заставляет функцию сначала обрабатывать и печатать старшие разряды (слева направо). |
| **n % 10** | Извлечение цифры. Оператор остатка от деления ((mod10)) извлекает последнюю цифру числа (единицы). |
| **n%10 + '0'** | Преобразование в руну. Добавление числового кода руны '0' преобразует числовую цифру (0-9) в её символьное представление ('0'-'9'), необходимое для печати. |
| **z01.PrintRune(...)** | Вывод. Функция, используемая для непосредственной печати каждой цифры или знака на стандартный вывод. |

---

## Глоссарий

| **Термин** | **Понятное объяснение** |
|-------------|--------------------------|
| **int** | Целое число. Основной числовой тип в Go, который может быть положительным, отрицательным или нулём. В зависимости от архитектуры, это может быть 32-битное или 64-битное число, что влияет на диапазон. |
| **z01.PrintRune** | Функция вывода символа. Единственный разрешённый инструмент для печати, который выводит один символ (руну) за раз. Каждая цифра и знак должны быть напечатаны отдельно. |
| **Запрет на string** | Ограничение. Нельзя использовать стандартные функции Go для преобразования числа в строку (string) или для печати готовых строк. Требуется ручная реализация. |
| **Рекурсия** | Метод решения. Вызов функцией самой себя. В этом задании используется для печати цифр в правильном порядке (слева направо). Сначала вызывается рекурсия для старших разрядов, а затем печатается последняя цифра. |
| **Деление на 10 (n / 10)** | Извлечение старших разрядов. При целочисленном делении на 10 число теряет последнюю цифру, позволяя нам перейти к следующему разряду (например, 123→12). |
| **Остаток от деления (n % 10)** | Извлечение последней цифры. Операция, которая даёт последнюю цифру числа (единицы). |
| **+ '0'** | Преобразование цифры в символ. Добавление руны '0' (которая имеет числовой код) к числовой цифре (от 0 до 9) преобразует её в соответствующий символ-руну для печати (`3 + '0' \to '3'$). |
| **MinInt** | Минимальное int. Наименьшее возможное отрицательное число для данного типа. Требует специальной обработки, так как его положительный эквивалент не помещается в тот же тип, что приводит к переполнениюпри попытке инвертировать знак (-MinInt). |
| **Переполнение (Overflow)** | Ошибка в диапазоне. Ситуация, когда результат математической операции выходит за пределы максимального (или минимального) значения, которое может хранить данный тип данных (int). |
| **Знак (-)** | Отрицательное число. Перед печатью отрицательного числа необходимо первым действием напечатать символ минуса. |

---

## Заключение
Задание PrintNbr является критически важным для понимания работы с числами и рекурсией на низком уровне в Go.

1. Алгоритм: Основная задача решается с помощью деления на 10, которое является единственным способом преобразовать числовой тип int в последовательность символов, не используя стандартные строковые функции.
2. Обработка границ: Наиболее сложный аспект — корректная обработка отрицательных чисел и, в частности, минимального значения int (MinInt). Неспособность преобразовать MinInt в положительное число требует специальной логики для избежания целочисленного переполнения.
3. Рекурсия: Использование рекурсии (PrintNbr(n / 10)) упрощает вывод цифр в правильном порядке (сначала старшие разряды).
